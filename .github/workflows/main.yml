name: Daily Macro Log

on:
  schedule:
    # ğŸŒ ì‹œê°„ ì„¤ì • (UTC ê¸°ì¤€ì´ë¼ í•œêµ­ ì‹œê°„ -9ì‹œê°„ í•´ì•¼ í•¨)

    # 1. í•œêµ­ ì•„ì¹¨ 08:30 = UTC ì „ë‚  23:30
    - cron: "30 23 * * *"

    # 2. í•œêµ­ ì˜¤í›„ 16:00 = UTC ë‹¹ì¼ 07:00
    - cron: "0 7 * * *"

  workflow_dispatch: # ìˆ˜ë™ ì‹¤í–‰ ë²„íŠ¼ (í…ŒìŠ¤íŠ¸ìš©)

jobs:
  run-dashboard:
    runs-on: ubuntu-latest

    steps:
      - name: ì €ì¥ì†Œ ì²´í¬ì•„ì›ƒ (ì½”ë“œ ê°€ì ¸ì˜¤ê¸°)
        uses: actions/checkout@v3

      - name: íŒŒì´ì¬ ì„¤ì • (Python 3.11)
        uses: actions/setup-python@v4
        with:
          python-version: "3.11"

      - name: ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ (requirements.txt ì‚¬ìš©)
        run: |
          pip install -r requirements.txt

      - name: íŒŒì´ì¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
        # ğŸ‘‡ ê¹ƒí—ˆë¸Œ ê¸ˆê³ (Secrets)ì—ì„œ êº¼ë‚´ì„œ í™˜ê²½ë³€ìˆ˜ë¡œ ë„£ì–´ì£¼ëŠ” ê³³
        env:
          TELEGRAM_TOKEN: ${{ secrets.TELEGRAM_TOKEN }}
          CHAT_ID: ${{ secrets.CHAT_ID }}
        run: |
          python DailyMacroLog.py
